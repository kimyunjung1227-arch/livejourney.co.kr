# 이미지 크기 제한 가이드

## 📏 현재 제한 사항

### 1. 백엔드 업로드 제한
- **최대 파일 크기**: 10MB (`.env`의 `MAX_FILE_SIZE` 설정)
- **지원 형식**: JPEG, JPG, PNG, GIF, WEBP

### 2. Gemini API 제한
- **최대 이미지 크기**: 7MB (원본 파일 기준)
- **권장 크기**: 5MB 이하 (안전 마진 포함)
- **Base64 변환**: 파일 크기가 약 33% 증가
  - 5MB 원본 → 약 6.65MB Base64
  - 7MB 원본 → 약 9.31MB Base64 (제한 초과 가능)

### 3. 전체 요청 크기 제한
- **최대 요청 크기**: 20MB (이미지 + 텍스트 프롬프트 포함)
- 일반적으로 이미지가 7MB 이하면 문제없음

## ⚠️ 문제 발생 시나리오

### 시나리오 1: 이미지가 너무 큰 경우
```
원본 이미지: 8MB
Base64 변환: 약 10.64MB
→ Gemini API 제한 초과 (7MB)
→ AI 태그 생성 실패
```

### 시나리오 2: 여러 이미지 업로드
```
이미지 1: 5MB
이미지 2: 5MB
총합: 10MB
→ 백엔드 업로드 제한 내
→ 하지만 AI 분석은 첫 번째 이미지만 사용
```

## 🔧 해결 방법

### 방법 1: 이미지 압축 (권장)
사용자가 업로드하기 전에 이미지를 압축하도록 안내

### 방법 2: 자동 리사이즈
백엔드에서 이미지를 자동으로 리사이즈 (구현 필요)

### 방법 3: 제한 안내
프론트엔드에서 이미지 크기를 체크하고 사용자에게 안내

## 📝 현재 구현 상태

- ✅ 백엔드 업로드 제한: 10MB
- ✅ Gemini API 크기 체크: 5MB 이하만 허용
- ⚠️ 이미지 리사이즈: 미구현 (필요시 추가 가능)

## 💡 권장 사항

1. **프론트엔드에서 사전 체크**
   - 이미지 선택 시 크기 확인
   - 5MB 초과 시 경고 메시지 표시

2. **이미지 압축 옵션 제공**
   - 사용자가 직접 압축하도록 안내
   - 또는 자동 압축 기능 제공

3. **에러 메시지 개선**
   - "이미지가 너무 큽니다. 5MB 이하로 압축해주세요" 메시지 표시
