# 백엔드 서버 시작 가이드

## 🔧 포트 충돌 해결 방법

### 문제: `EADDRINUSE: address already in use :::5000`

포트 5000이 이미 사용 중일 때 발생하는 오류입니다.

### 해결 방법

#### 방법 1: 포트 사용 프로세스 종료 (권장)

```powershell
# 1. 포트 5000을 사용하는 프로세스 찾기
netstat -ano | findstr :5000

# 2. 프로세스 ID 확인 (예: PID 4872)
# 3. 프로세스 종료
taskkill /F /PID 4872

# 4. 서버 재시작
cd backend
npm run dev
```

#### 방법 2: 다른 포트 사용

`.env` 파일에서 포트 변경:
```env
PORT=5001
```

#### 방법 3: 모든 Node.js 프로세스 종료

```powershell
taskkill /F /IM node.exe
```

## ✅ 서버 정상 시작 확인

서버가 정상적으로 시작되면 다음과 같은 메시지가 표시됩니다:

```
🔍 AI 태그 생성 설정 확인:
  USE_AI_TAG_GENERATION: true
  USE_AI: true
  GEMINI_API_KEY 존재: true
  GEMINI_API_KEY 길이: 39
📦 MongoDB 연결 성공!
╔════════════════════════════════════════╗
║   🚀 백엔드 서버 시작 완료!           ║
╚════════════════════════════════════════╝
📍 포트: 5000
🌐 URL: http://localhost:5000
```

## 🚀 서버 시작 명령어

### 개발 모드 (권장)
```bash
cd backend
npm run dev
```

### 프로덕션 모드
```bash
cd backend
npm start
```

### 직접 실행
```bash
cd backend
node server.js
```

## ⚠️ 주의사항

1. **서버를 중지할 때**: `Ctrl + C`를 눌러서 정상 종료
2. **포트 충돌 시**: 위의 해결 방법 사용
3. **환경 변수 변경 시**: 서버 재시작 필수

## 🔍 문제 해결 체크리스트

- [ ] 포트 5000이 비어있는가? (`netstat -ano | findstr :5000`)
- [ ] `.env` 파일이 올바른가?
- [ ] MongoDB가 실행 중인가?
- [ ] Node.js 버전이 호환되는가? (v18 이상 권장)
