/**
 * 지역명 → 좌표 매핑
 * 지도에서 지역 검색 시 사용
 */

export const regionCoordinates = {
  // 서울 - 상세 장소별 좌표
  '서울': { lat: 37.5665, lng: 126.9780 },
  
  // 서울 각 구
  '강남구': { lat: 37.5172, lng: 127.0473 },
  '서초구': { lat: 37.4837, lng: 127.0324 },
  '송파구': { lat: 37.5145, lng: 127.1059 },
  '강동구': { lat: 37.5301, lng: 127.1238 },
  '마포구': { lat: 37.5663, lng: 126.9019 },
  '용산구': { lat: 37.5326, lng: 126.9900 },
  '성동구': { lat: 37.5634, lng: 127.0368 },
  '광진구': { lat: 37.5384, lng: 127.0822 },
  '종로구': { lat: 37.5735, lng: 126.9790 },
  '중구': { lat: 37.5641, lng: 126.9979 },
  '영등포구': { lat: 37.5264, lng: 126.8962 },
  '구로구': { lat: 37.4954, lng: 126.8874 },
  '강서구': { lat: 37.5509, lng: 126.8495 },
  '양천구': { lat: 37.5170, lng: 126.8664 },
  '관악구': { lat: 37.4784, lng: 126.9516 },
  '동작구': { lat: 37.5124, lng: 126.9393 },
  '성북구': { lat: 37.5894, lng: 127.0167 },
  '강북구': { lat: 37.6398, lng: 127.0256 },
  '도봉구': { lat: 37.6688, lng: 127.0471 },
  '노원구': { lat: 37.6542, lng: 127.0568 },
  '은평구': { lat: 37.6027, lng: 126.9291 },
  '서대문구': { lat: 37.5791, lng: 126.9368 },
  '동대문구': { lat: 37.5744, lng: 127.0396 },
  '중랑구': { lat: 37.6063, lng: 127.0925 },
  '금천구': { lat: 37.4519, lng: 126.8955 },
  
  // 서울 상세 장소
  '경복궁': { lat: 37.5796, lng: 126.9770 },
  '경복궁 벚꽃길': { lat: 37.5796, lng: 126.9770 },
  'N서울타워': { lat: 37.5512, lng: 126.9882 },
  '광화문광장': { lat: 37.5720, lng: 126.9769 },
  '청계천': { lat: 37.5695, lng: 126.9788 },
  '북촌한옥마을': { lat: 37.5823, lng: 126.9850 },
  '덕수궁': { lat: 37.5658, lng: 126.9751 },
  '명동': { lat: 37.5636, lng: 126.9834 },
  '명동교자': { lat: 37.5636, lng: 126.9834 },
  '명동교자 명동점': { lat: 37.5636, lng: 126.9834 },
  '광장시장': { lat: 37.5707, lng: 127.0017 },
  '광장시장 육회': { lat: 37.5707, lng: 127.0017 },
  '강남': { lat: 37.4979, lng: 127.0276 },
  
  // 부산
  '부산': { lat: 35.1796, lng: 129.0756 },
  '해운대': { lat: 35.1631, lng: 129.1636 },
  '광안리': { lat: 35.1532, lng: 129.1186 },
  '자갈치시장': { lat: 35.0977, lng: 129.0324 },
  
  // 제주
  '제주': { lat: 33.4996, lng: 126.5312 },
  '제주시': { lat: 33.4996, lng: 126.5312 },
  '서귀포': { lat: 33.2541, lng: 126.5601 },
  '성산일출봉': { lat: 33.4584, lng: 126.9426 },
  '한라산': { lat: 33.3617, lng: 126.5292 },
  
  // 경기도
  '수원': { lat: 37.2636, lng: 127.0286 },
  '성남': { lat: 37.4201, lng: 127.1267 },
  '고양': { lat: 37.6584, lng: 126.8320 },
  '용인': { lat: 37.2411, lng: 127.1776 },
  '부천': { lat: 37.5034, lng: 126.7660 },
  '안산': { lat: 37.3219, lng: 126.8309 },
  '안양': { lat: 37.3943, lng: 126.9568 },
  '평택': { lat: 36.9921, lng: 127.1129 },
  '시흥': { lat: 37.3800, lng: 126.8029 },
  '김포': { lat: 37.6153, lng: 126.7155 },
  '광명': { lat: 37.4772, lng: 126.8664 },
  '이천': { lat: 37.2720, lng: 127.4426 },
  '양주': { lat: 37.7840, lng: 127.0457 },
  '오산': { lat: 37.1498, lng: 127.0772 },
  '구리': { lat: 37.5944, lng: 127.1296 },
  '안성': { lat: 37.0080, lng: 127.2797 },
  '포천': { lat: 37.8947, lng: 127.2007 },
  '의정부': { lat: 37.7381, lng: 127.0470 },
  '하남': { lat: 37.5394, lng: 127.2149 },
  '여주': { lat: 37.2983, lng: 127.6371 },
  
  // 강원도
  '강릉': { lat: 37.7519, lng: 128.8761 },
  '춘천': { lat: 37.8813, lng: 127.7298 },
  '속초': { lat: 38.2070, lng: 128.5918 },
  '평창': { lat: 37.3707, lng: 128.3900 },
  '홍천': { lat: 37.6970, lng: 127.8887 },
  '원주': { lat: 37.3448, lng: 127.9203 },
  '정선': { lat: 37.3807, lng: 128.6600 },
  '태백': { lat: 37.1641, lng: 128.9856 },
  '삼척': { lat: 37.4499, lng: 129.1652 },
  '동해': { lat: 37.5247, lng: 129.1144 },
  '고성': { lat: 38.3785, lng: 128.4676 },
  '양양': { lat: 38.0754, lng: 128.6191 },
  '인제': { lat: 38.0697, lng: 128.1707 },
  '횡성': { lat: 37.4918, lng: 127.9850 },
  '영월': { lat: 37.1838, lng: 128.4617 },
  '화천': { lat: 38.1064, lng: 127.7083 },
  '양구': { lat: 38.1098, lng: 127.9892 },
  '철원': { lat: 38.1466, lng: 127.3133 },
  
  // 충청도
  '대전': { lat: 36.3504, lng: 127.3845 },
  '천안': { lat: 36.8151, lng: 127.1139 },
  '청주': { lat: 36.6424, lng: 127.4890 },
  '충주': { lat: 36.9910, lng: 127.9260 },
  '아산': { lat: 36.7848, lng: 127.0046 },
  '서산': { lat: 36.7849, lng: 126.4503 },
  '태안': { lat: 36.7459, lng: 126.2978 },
  '보령': { lat: 36.3336, lng: 126.6129 },
  '당진': { lat: 36.8933, lng: 126.6284 },
  '공주': { lat: 36.4556, lng: 127.1247 },
  '논산': { lat: 36.2038, lng: 127.0846 },
  '계룡': { lat: 36.2742, lng: 127.2486 },
  '금산': { lat: 36.1087, lng: 127.4883 },
  '부여': { lat: 36.2756, lng: 126.9100 },
  '서천': { lat: 36.0803, lng: 126.6919 },
  '청양': { lat: 36.4500, lng: 126.8028 },
  '홍성': { lat: 36.6012, lng: 126.6608 },
  '예산': { lat: 36.6800, lng: 126.8447 },
  '태안군': { lat: 36.7459, lng: 126.2978 },
  '당진시': { lat: 36.8933, lng: 126.6284 },
  
  // 전라도
  '전주': { lat: 35.8242, lng: 127.1480 },
  '광주': { lat: 35.1595, lng: 126.8526 },
  '여수': { lat: 34.7604, lng: 127.6622 },
  '순천': { lat: 34.9506, lng: 127.4872 },
  '목포': { lat: 34.8118, lng: 126.3922 },
  '군산': { lat: 35.9677, lng: 126.7366 },
  '익산': { lat: 35.9483, lng: 126.9579 },
  '정읍': { lat: 35.5697, lng: 126.8560 },
  '남원': { lat: 35.4164, lng: 127.3904 },
  '김제': { lat: 35.8036, lng: 126.8808 },
  '완주': { lat: 35.9014, lng: 127.1587 },
  '진안': { lat: 35.7917, lng: 127.4253 },
  '무주': { lat: 36.0070, lng: 127.6608 },
  '장수': { lat: 35.6474, lng: 127.5203 },
  '임실': { lat: 35.6147, lng: 127.2792 },
  '순창': { lat: 35.3744, lng: 127.1375 },
  '고창': { lat: 35.4358, lng: 126.7021 },
  '부안': { lat: 35.7314, lng: 126.7330 },
  '고흥': { lat: 34.6117, lng: 127.2850 },
  '보성': { lat: 34.7714, lng: 127.0803 },
  '화순': { lat: 35.0644, lng: 126.9869 },
  '장흥': { lat: 34.6817, lng: 126.9069 },
  '강진': { lat: 34.6420, lng: 126.7672 },
  '해남': { lat: 34.5736, lng: 126.5992 },
  '영암': { lat: 34.8003, lng: 126.6967 },
  '무안': { lat: 34.9903, lng: 126.4814 },
  '함평': { lat: 35.0614, lng: 126.5203 },
  '영광': { lat: 35.2753, lng: 126.5119 },
  '장성': { lat: 35.3019, lng: 126.7847 },
  '담양': { lat: 35.3214, lng: 126.9881 },
  '곡성': { lat: 35.2819, lng: 127.2919 },
  '구례': { lat: 35.2025, lng: 127.4628 },
  '광양': { lat: 34.9403, lng: 127.6956 },
  '나주': { lat: 35.0161, lng: 126.7108 },
  '함안': { lat: 35.2722, lng: 128.4061 },
  
  // 경상도
  '대구': { lat: 35.8714, lng: 128.6014 },
  '울산': { lat: 35.5384, lng: 129.3114 },
  '창원': { lat: 35.2279, lng: 128.6819 },
  '김해': { lat: 35.2284, lng: 128.8891 },
  '양산': { lat: 35.3386, lng: 129.0386 },
  '거제': { lat: 34.8806, lng: 128.6911 },
  '통영': { lat: 34.8544, lng: 128.4331 },
  '사천': { lat: 35.0039, lng: 128.0642 },
  '진해': { lat: 35.1490, lng: 128.6596 },
  '마산': { lat: 35.1972, lng: 128.5822 },
  '진주': { lat: 35.1928, lng: 128.0846 },
  '거창': { lat: 35.6867, lng: 127.9097 },
  '합천': { lat: 35.5664, lng: 128.1656 },
  '함양': { lat: 35.5203, lng: 127.7253 },
  '산청': { lat: 35.4153, lng: 127.8739 },
  '하동': { lat: 35.0675, lng: 127.7514 },
  '남해': { lat: 34.8375, lng: 127.8925 },
  '고성': { lat: 34.9731, lng: 128.3236 },
  '창녕': { lat: 35.5444, lng: 128.4953 },
  '의령': { lat: 35.3219, lng: 128.2617 },
  '함안': { lat: 35.2722, lng: 128.4061 },
  '밀양': { lat: 35.5033, lng: 128.7464 },
  '청도': { lat: 35.6472, lng: 128.7336 },
  '경산': { lat: 35.8256, lng: 128.7414 },
  '영천': { lat: 35.9733, lng: 128.9381 },
  '경주': { lat: 35.8562, lng: 129.2247 },
  '포항': { lat: 36.0322, lng: 129.3650 },
  '구미': { lat: 36.1194, lng: 128.3444 },
  '김천': { lat: 36.1398, lng: 128.1136 },
  '안동': { lat: 36.5684, lng: 128.7296 },
  '영주': { lat: 36.8056, lng: 128.6236 },
  '영양': { lat: 36.6667, lng: 129.1125 },
  '영덕': { lat: 36.4153, lng: 129.3653 },
  '청송': { lat: 36.4356, lng: 129.0572 },
  '상주': { lat: 36.4106, lng: 128.1592 },
  '문경': { lat: 36.5864, lng: 128.1864 },
  '예천': { lat: 36.6581, lng: 128.4528 },
  '봉화': { lat: 36.8931, lng: 128.7325 },
  '울진': { lat: 36.9931, lng: 129.4003 },
  '울릉': { lat: 37.4844, lng: 130.9056 },
  
  // 기타
  '인천': { lat: 37.4563, lng: 126.7052 },
  '광주': { lat: 35.1595, lng: 126.8526 },
  '세종': { lat: 36.4800, lng: 127.2890 },
};

/**
 * 지역명으로 좌표 가져오기
 */
export const getCoordinatesByLocation = (locationName) => {
  if (!locationName) return null;
  
  // 정확한 매칭
  if (regionCoordinates[locationName]) {
    return regionCoordinates[locationName];
  }
  
  // 부분 매칭 (예: "서울 강남구" → "강남구")
  for (const [key, value] of Object.entries(regionCoordinates)) {
    if (locationName.includes(key) || key.includes(locationName)) {
      return value;
    }
  }
  
  return null;
};

/**
 * 지역 검색 (초성 검색 지원)
 */
export const searchRegions = (query) => {
  if (!query || query.trim() === '') {
    return Object.keys(regionCoordinates);
  }
  
  const q = query.trim().toLowerCase();
  const results = [];
  
  // 초성 배열
  const CHOSUNG = ['ㄱ', 'ㄲ', 'ㄴ', 'ㄷ', 'ㄸ', 'ㄹ', 'ㅁ', 'ㅂ', 'ㅃ', 'ㅅ', 'ㅆ', 'ㅇ', 'ㅈ', 'ㅉ', 'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ'];
  
  // 초성 추출 함수
  const getChosung = (str) => {
    let result = '';
    for (let i = 0; i < str.length; i++) {
      const code = str.charCodeAt(i) - 44032;
      if (code > -1 && code < 11172) {
        result += CHOSUNG[Math.floor(code / 588)];
      } else {
        result += str.charAt(i);
      }
    }
    return result;
  };
  
  // 모든 지역명 검색
  for (const region of Object.keys(regionCoordinates)) {
    const regionLower = region.toLowerCase();
    const regionChosung = getChosung(region);
    const queryChosung = getChosung(q);
    
    // 정확한 매칭 또는 초성 매칭
    if (regionLower.includes(q) || regionChosung.includes(queryChosung)) {
      results.push(region);
    }
  }
  
  return results;
};



